{"version":3,"sources":["services/phonebook.js","components/PersonForm.js","components/Filter.js","components/Notification.js","components/App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","props","newName","newNumber","persons","setNewName","setNewNumber","setPersons","setErrorMessage","onSubmit","event","preventDefault","numberObject","name","number","checkContact","find","window","confirm","phoneService","returnedPhonebook","filter","person","concat","setTimeout","value","onChange","target","type","Filter","showAll","setShowAll","searchName","setSearchName","setSearchItemRegex","itemRegex","RegExp","Notification","message","className","Person","onClick","deleteContact","App","useState","loaded","setLoaded","useEffect","searchItemRegex","errorMessage","phonebookToShow","test","updatedPhonebook","catch","error","map","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1142cc13.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteIt = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response)\n}\n\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  deleteIt: deleteIt\n}\n","import React from 'react'\nimport phoneService from '../services/phonebook'\n\nconst PersonForm = (props) =>{\n  let newName = props.newName\n  let newNumber = props.newNumber\n  let persons = props.persons\n  let setNewName = props.setNewName\n  let setNewNumber = props.setNewNumber\n  let setPersons = props.setPersons\n  let setErrorMessage = props.setErrorMessage\n  const addNumber = (event) => {\n    event.preventDefault()\n    const numberObject = {\n      name: newName,\n      number: newNumber,\n    }\n    const checkContact = persons.find( ({name}) => name===newName)\n    if(!checkContact){\n      phoneService\n        .create(numberObject)\n        .then(returnedPhonebook => {\n          setPersons(persons.concat(returnedPhonebook))\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage('New Contact has been added!')\n          setTimeout(() => setErrorMessage(null),5000)\n        })\n    }\n    else{\n      if(window.confirm(newName + ' is already added to phonebook. Due want to update the number?')){\n        phoneService\n          .update(checkContact.id, numberObject)\n          .then(returnedPhonebook => {\n            setPersons(persons.filter(person => person.id!==checkContact.id).concat(returnedPhonebook))\n          })\n        setNewName('')\n        setNewNumber('')\n        setErrorMessage('Contact number has been updated!')\n        setTimeout(() => setErrorMessage(null),5000)\n      }\n    }\n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return(\n      <form onSubmit = {addNumber}>\n        <div>Name: <input value={newName} onChange = {handleNameChange} /></div>\n        <div>Number: <input value={newNumber} onChange = {handleNumberChange} /></div>\n        <div><button type=\"submit\">Add</button></div>\n      </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Filter = (props) => {\n  let showAll = props.showAll\n  let setShowAll = props.setShowAll\n  let searchName = props.searchName\n  let setSearchName = props.setSearchName\n  let setSearchItemRegex = props.setSearchItemRegex\n\n\n  const handleSearchName = (event) => {\n    let itemRegex = new RegExp('^'+event.target.value,'i')\n    setSearchItemRegex(itemRegex)\n    setSearchName(event.target.value)\n    if(event.target.value){\n      setShowAll(false)\n    }\n    else{\n      setShowAll(true)\n    }\n  }\n\n  return(\n    <div>\n      <h1> Show {showAll ? 'All' : 'Matched'} Items </h1>\n      <input value={searchName} onChange = {handleSearchName} />\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Notification = ({message, setErrorMessage}) => {\n  if (message)\n    return (\n      <div className='error'>\n        {message}\n      </div>\n    )\n  else\n    return null\n}\n\nexport default Notification\n","import React, {useState, useEffect} from 'react'\n\n\nimport PersonForm from './PersonForm'\nimport Filter from './Filter'\nimport Notification from './Notification'\n\nimport phoneService from '../services/phonebook'\n\n\nconst Person = (props) => {\n  return(\n    <p>{props.name} {props.number}\n    <button onClick={()=> props.deleteContact(props.id, props.name)}>\n    Delete\n    </button>\n    </p>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState(null)\n  const [ loaded, setLoaded] = useState(false)\n  useEffect(()=>{\n    phoneService\n    .getAll()\n    .then(response => {\n      setPersons(response)\n      setLoaded(true)\n    })\n  },[])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n\n  const [showAll, setShowAll] = useState(true)\n  const [searchName, setSearchName] = useState('')\n  const [searchItemRegex, setSearchItemRegex] = useState('')\n\n  const [errorMessage, setErrorMessage] = useState()\n\n  const phonebookToShow = showAll ? persons : persons.filter(person =>  searchItemRegex.test(person.name))\n\n\n  const deleteContact = (id,name) => {\n    const updatedPhonebook = persons.filter(person => person.id!==id)\n    if(window.confirm(`Do you want to delete contact ${name} ??`)){\n      phoneService\n        .deleteIt(id)\n        .then(returnedPhonebook => {\n          setPersons(updatedPhonebook)\n          setErrorMessage(\"Contact deleted\")\n          setTimeout(() => setErrorMessage(null),5000)\n        })\n        .catch(error => {\n          setErrorMessage(\"Sorry!! This Contact does not exists in server anymore.\")\n          setPersons(updatedPhonebook)\n          setTimeout(() => setErrorMessage(null),5000)\n        })\n    }}\n\n  const rows = () => phonebookToShow.map(person =>\n      <Person\n        key={person.name}\n        name={person.name}\n        number={person.number}\n        id = {person.id}\n        deleteContact = {deleteContact}\n      />\n  )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {errorMessage} setErrorMessage = {setErrorMessage} />\n      <PersonForm\n        newName={newName} setNewName={setNewName}\n        newNumber={newNumber} setNewNumber = {setNewNumber}\n        persons = {persons} setPersons={setPersons}\n        setErrorMessage = {setErrorMessage} />\n\n      <Filter\n        showAll={showAll} setShowAll={setShowAll}\n        searchName={searchName} setSearchName={setSearchName}\n        searchItemRegex={searchItemRegex} setSearchItemRegex={setSearchItemRegex} />\n\n      <div>\n          {loaded ? rows() : ''}\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}