(window.webpackJsonppart1=window.webpackJsonppart1||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(13),c=n.n(u),o=n(2),l=n(3),i=n.n(l),s="/api/persons",m=function(){return i.a.get(s).then((function(e){return e.data}))},f=function(e,t){return i.a.post(s,e).then((function(e){return e.data})).catch((function(e){throw new Error(e.response.data.error)}))},d=function(e,t){return i.a.put("".concat(s,"/").concat(e),t).then((function(e){return e.data})).catch((function(e){throw new Error(e.response.data.error)}))},h=function(e){return i.a.delete("".concat(s,"/").concat(e)).then((function(e){return e}))},b=function(e){var t=e.newName,n=e.newNumber,a=e.persons,u=e.setNewName,c=e.setNewNumber,o=e.setPersons,l=e.setErrorMessage;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r={name:t,number:n},i=a.find((function(e){return e.name===t}));i?window.confirm(t+" is already added to phonebook. Due want to update the number?")&&(d(i.id,r).then((function(e){o(a.filter((function(e){return e.id!==i.id})).concat(e))})).catch((function(e){l(e.message),setTimeout((function(){return l(null)}),5e3)})),u(""),c(""),l("Contact number has been updated!"),setTimeout((function(){return l(null)}),5e3)):f(r).then((function(e){o(a.concat(e)),u(""),c(""),l("New Contact has been added!"),setTimeout((function(){return l(null)}),5e3)})).catch((function(e){l(e.message),setTimeout((function(){return l(null)}),5e3)}))}},r.a.createElement("div",null,"Name: ",r.a.createElement("input",{value:t,onChange:function(e){u(e.target.value)}})),r.a.createElement("div",null,"Number: ",r.a.createElement("input",{value:n,onChange:function(e){c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add")))},w=function(e){var t=e.showAll,n=e.setShowAll,a=e.searchName,u=e.setSearchName,c=e.setSearchItemRegex;return r.a.createElement("div",null,r.a.createElement("h1",null," Show ",t?"All":"Matched"," Items "),r.a.createElement("p",null,"Search ",r.a.createElement("input",{value:a,onChange:function(e){var t=new RegExp("^"+e.target.value,"i");c(t),u(e.target.value),e.target.value?n(!1):n(!0)}})))},E=function(e){var t=e.message;e.setErrorMessage;return t?r.a.createElement("div",{className:"error"},t):null},p=function(e){return r.a.createElement("p",null,e.name," ",e.number,r.a.createElement("button",{onClick:function(){return e.deleteContact(e.id,e.name)}},"Delete"))},v=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(!1),l=Object(o.a)(c,2),i=l[0],s=l[1];Object(a.useEffect)((function(){m().then((function(e){u(e),s(!0)}))}),[]);var f=Object(a.useState)(""),d=Object(o.a)(f,2),v=d[0],g=d[1],N=Object(a.useState)(""),S=Object(o.a)(N,2),j=S[0],O=S[1],C=Object(a.useState)(!0),y=Object(o.a)(C,2),T=y[0],k=y[1],x=Object(a.useState)(""),A=Object(o.a)(x,2),I=A[0],M=A[1],D=Object(a.useState)(""),R=Object(o.a)(D,2),P=R[0],J=R[1],B=Object(a.useState)(),q=Object(o.a)(B,2),z=q[0],F=q[1],G=T?n:n.filter((function(e){return P.test(e.name)})),H=function(e,t){var a=n.filter((function(t){return t.id!==e}));window.confirm("Do you want to delete contact ".concat(t," ??"))&&h(e).then((function(e){u(a),F("Contact deleted"),setTimeout((function(){return F(null)}),5e3)})).catch((function(e){F("Sorry!! This Contact does not exists in server anymore."),u(a),setTimeout((function(){return F(null)}),5e3)}))};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(E,{message:z,setErrorMessage:F}),r.a.createElement(b,{newName:v,setNewName:g,newNumber:j,setNewNumber:O,persons:n,setPersons:u,setErrorMessage:F}),r.a.createElement(w,{showAll:T,setShowAll:k,searchName:I,setSearchName:M,searchItemRegex:P,setSearchItemRegex:J}),r.a.createElement("div",null,i?G.map((function(e){return r.a.createElement(p,{key:e.name,name:e.name,number:e.number,id:e.id,deleteContact:H})})):""))};n(36);c.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.5b48de1f.chunk.js.map